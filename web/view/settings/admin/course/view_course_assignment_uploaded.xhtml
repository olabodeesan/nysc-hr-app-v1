<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="../../../../WEB-INF/templates/adminTemplate.xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"                
                xmlns:p="http://primefaces.org/ui"               
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns="http://www.w3.org/1999/xhtml">  

    <ui:define name="title_additional_caption">
        ::- Blank
    </ui:define>

    <ui:define name="additional_css_jscript">
        <link href="#{request.contextPath}/resources/css/pf-fix.css" rel="stylesheet" type="text/css"/>
        <link href="#{request.contextPath}/resources/css/form-styles.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/personnel-profile.css"/>

        <link rel="stylesheet" type="text/css" href="#{request.contextPath}/vendor/fancybox/jquery.fancybox.css"/>

        <script src="#{request.contextPath}/vendor/fancybox/jquery.fancybox.js"></script>
        <script src="#{request.contextPath}/vendor/select2-4.0.3/js/select2.min.js"></script>

    </ui:define>

    <ui:define name="page_toolbar_left">
        Course Assignment(s)
    </ui:define>

    <ui:define name="page_toolbar_right">

    </ui:define>

    <ui:define name="content"> 
        <div class="row clearfix" style="margin-top: 10px !important; border-top-left-radius: 15px; border-top-right-radius: 15px;">
            <div class="col-sm-12">                
                <section id="main-content">
                    <section class="wrapper">

                        <div class="row">
                            <div class="col-sm-12">
                                <section class="panel">

                                    <div class="panel-body" style="font-size: 12px !important;">
                                        <h:form prependId="false">

                                            <div class="datagriddiv">

                                                <h:panelGroup id="item-listing-panel">

                                                    <table class="table table-responsive table-hover">
                                                        <thead>

                                                            <th>Course Code</th>
                                                            <th>Description</th>
                                                            <th>Uploaded By</th>   
                                                            <th>Date Uploaded</th>   
                                                            <th></th>
                                                        </thead>

                                                        <tbody>
                                                            <ui:repeat var="record" value="#{viewCourseAssignmentMBean.uploadedCourseAssignmentList}" >
                                                                <tr>

                                                                    <td>                                       
                                                                        #{record.courseCode}
                                                                    </td>
                                                                    <td>
                                                                        #{record.description}                                 
                                                                    </td>
                                                                    <td>
                                                                        #{record.uploadedBy}
                                                                    </td>
                                                                    <td>
                                                                        #{record.created}
                                                                    </td>
                                                                    <td>
                                                                        <a href="#" title="View Assignment"
                                                                           onclick="openFancyBoxIframe('#{request.contextPath}/view/settings/admin/course/view_uploaded_course_assignment_details.xhtml?vhsuYagsh62fshkfd=#{record.recordId}', '60%', '90%'); return false;"
                                                                           class="btn btn-success btn-sm" style="background: #96417A;text-decoration: none;">                                       

                                                                            <span style="font-weight: bold; font-size: 16pt !important;">
                                                                                #{record.noOfUploadedAssignment}  <i class="fa fa-folder-open-o"></i>
                                                                            </span>
                                                                        </a> 
                                                                    </td>
                                                                </tr>
                                                            </ui:repeat>
                                                        </tbody>
                                                    </table>

                                                </h:panelGroup>
                                            </div>




                                        </h:form>
                                    </div>
                                </section>
                            </div>
                        </div>

                    </section>
                </section>
            </div>
        </div>

        <script type="text/javascript" src="#{request.contextPath}/vendor/fancybox/jquery.fancybox.js"></script>
        <script src="#{request.contextPath}/vendor/jquery.nicescroll-v3.6.8/jquery.nicescroll.min.js"></script>

        <script type="text/javascript">
                                                       $(document).ready(function () {
                                                           $("#profile-leftnav").niceScroll({cursorcolor: "#009E54"});
                                                       });
                                                       function openFancyBoxImage(url, title) {
                                                           $.fancybox.open({
                                                               autoSize: false,
                                                               width: '80%',
                                                               height: '90%',
                                                               href: '' + url + '',
                                                               title: title,
                                                               padding: 2,
                                                               transitionIn: 'elastic',
                                                               transitionOut: 'elastic',
                                                               helpers: {
                                                                   overlay: {
                                                                       closeClick: false
                                                                   }
                                                               }
                                                           });
                                                           return false;
                                                       }

                                                       function openFancyBoxPdf(url, title) {
                                                           $.fancybox.open({
                                                               autoSize: false,
                                                               width: 900,
                                                               height: 650,
                                                               href: '' + url + '',
                                                               title: title,
                                                               type: 'iframe',
                                                               padding: 2,
                                                               transitionIn: 'elastic',
                                                               transitionOut: 'elastic',
                                                               helpers: {
                                                                   overlay: {
                                                                       closeClick: false
                                                                   }
                                                               }
                                                           });
                                                           return false;
                                                       }

                                                       function openFancyBoxIframe(url, cWidth, cHeight) {
                                                           $.fancybox.open({
                                                               autoSize: false,
                                                               width: cWidth,
                                                               height: cHeight,
                                                               href: '' + url + '',
                                                               type: 'iframe',
                                                               padding: 2,
                                                               transitionIn: 'elastic',
                                                               transitionOut: 'elastic',
                                                               helpers: {
                                                                   overlay: {
                                                                       closeClick: false
                                                                   }
                                                               },
                                                               afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                                                                   parent.location.reload(true);
                                                               }
                                                           });
                                                           return false;
                                                       }
        </script>

    </ui:define>

</ui:composition>
